<!doctype html>
<html lang=en> 
<head>
<meta charset=utf-8> 
<title>Using the QFA data visualisation tool</title> 
<meta name="desciption" content="QFA data visualisation tool">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="../CLstyle.css">
</head> 

<body>
 
<header>
<a href="http://www.flickr.com/photos/conchur/8187964744/" title="FourCulturesCropped by Conor Lawless, on Flickr">
<img src="http://farm9.staticflickr.com/8489/8187964744_583f1264b2_m.jpg" width="180" alt="FourCulturesCropped" style="display: inline; float:left; margin-right: 5px; margin-bottom: 30px;"></a>
<h1>QFA data visualisation tool</h1> 
<hr></hr>
</header>

<nav id="nav">
<h4>Contents</h4>
<ul>
	<li><a href="../">Home</a></li>
	<li><a href="#intro">Introduction</a></li>
	<li><a href="#osx">Installation for OSX</a></li>
	<li><a href="#windows">Installation for Windows</a></li>
	<li><a href="#instruct">Loading the tool</a></li>
	<li><a href="#interact">Interacting with plots</a></li>

</ul>
</nav>

<article>
<a name="intro"><h2>Introduction</h2></a>
<p>This page is intended for users who are only interested in using the interactive data visualisation tools within the QFA R package.  A more general introduction to the QFA R package can be found <a href="../">here</a>.</p>

<p>QFA experiments are often used to compare the fitnesses of independent microbial strains under two different conditions, or in two different genetic backgrounds in order to search for evidence for drug interactions or genetic interactions for example.  When carried out on a genome-wide scale, such comparisons become difficult to visualise, due to the sheer number of strains examined.  For example, the static plot below compares the fitness of about 4,000 different single deletion yeast mutants either with or without a second, background mutation (<i>cdc13-1</i>).  Although several interesting gene deletions and groups of gene deletions have been highlighted on this plot, evidence for the strength (or existence) of several thousand other genetic interactions remains obscured.  This is simply because simultaneously labelling so many datapoints on such a plot, so that the labels are all legible, is not practical.  The visualisation tool in our QFA package provides the user with a means to interact with this kind of plot and to query it in real time, speeding up expert visual analysis and interpretation of the underlying data.</p>

<a href="../FitnessPlot.png"><img src="../FitnessPlot.png" width="550" title="A genome-wide screen for genes interacting with CDC13"></a>
<p style="font-size: 75%;"><b><i>cdc13-1</i></a> Fitness Plot</b> Scatterplot comparing the output of two QFA experiments: fitnesses of strains from the yeast deletion collection (x-axis) and fitnesses of the same strains combined with a second, background mutation (<i>cdc13-1</i>).  Dashed line is the line of equal fitness.  Blue line represents expected double mutant fitness, given single mutant fitness assuming the multiplicative model of genetic independence.  Points highlighted in red and green are statistically significant suppressors and enhancers of the <i>cdc13-1</i> fitness defect respectively.</p>

<hr></hr>

<a name="osx"><h2>Installation for OSX</h2></a>

<p>You will require administrator rights on your machine to install <a href="http://cran.r-project.org/bin/macosx/">R</a> and the qfa package.

<ol><li>Make sure you have the latest version of R installed on your computer.  If not, <a href="http://cran.r-project.org/bin/macosx/">download</a> the latest .pkg file to your hard drive and click to install as usual.</li>
<li>Install the qfa package containing the visualisation tool and the <a href="http://www.plosgenetics.org/doi/pgen.1001362">Addinall et al., 2011</a> QFA datasets:<ul>
	<li>Start the R application
	<li>Paste the following line of code after the command line prompt (followed by Enter):</ul>
<code>
install.packages("qfa", repos="http://R-Forge.R-project.org")
</code>
</ol>
Note that, depending on the version of your operating system, you might be prompted to install the <a href="http://xquartz.macosforge.org">X11</a> software for Mac at a later stage.  X11 is necessary for the visualisation tool to work, so please install it if promoted.  This may require restarting your machine.</p>

<p>Now, installation is complete.  You do not have to go through these steps again to use the tool.</p>

<hr></hr>

<a name="windows"><h2>Installation for Windows</h2></a>

<p>You will require administrator rights on your PC to install <a href="http://cran.r-project.org/bin/windows/base/">R</a> and the qfa package.

<ol><li>Make sure you have the latest version of R installed on your computer.  If not, <a href="http://cran.r-project.org/bin/windows/base/">download</a> the latest .exe file to your hard drive and double-click to install as usual.</li>
<li>Install the qfa package containing the visualisation tool and the <a href="http://www.plosgenetics.org/doi/pgen.1001362">Addinall et al., 2011</a> QFA datasets:<ul>
	<li>Start the R application (e.g. Start->All Programs->R->R x64 2.15.2)
	<li>Paste the following line of code after the command line prompt (followed by Enter):</ul>
<code>
install.packages("qfa", repos="http://R-Forge.R-project.org")
</code>
</ol>
Now, installation is complete.  You do not have to go through these steps again to use the tool.</p>

<hr></hr>
<a name="instruct"><h2>Loading the tool (OSX or Windows)</h2></a>

<p>To run the visualisation tool, start the R application and type the following two commands (pressing enter after each) at the command prompt: </p>

<code>
library(qfa)</br>
visToolDemo()
</code>

<p>A second plotting window should appear alongside the text console, and brief instructions for using the keyboard and mouse should be printed to the console (copied below).  Note that you will need to click on the console window to put it into focus before typing in Gene names etc. if prompted.</p>

<p>If you would like to use the version of the tool with GO terms highlighted instead of the complexes from <a href="http://dx.doi.org/10.1016/j.molcel.2010.06.002">Benschop et al. (2010)</a>, quit the visualisation tool (by pressing 'q' on the keyboard, preferably not by clicking on the 'x' button) and type the following command (followed by enter):</p>
<code>
visToolDemo(buildGO)
</code>
<p>However, note that there are about 4,000 GO terms to browse through...</p>

<hr></hr>

<a name="interact"><h2>Interacting with plots</h2></a>

<p>The visualisation tool generates scatter plots comparing strain fitness summaries in paired QFA screens.  Screens are indicated with shorthand tags on the x and y axis.  For example, the tag 'CDC13-1 20' represents an experiment combining the yeast deletion collection with a background <i>cdc13-1</i> mutation, grown at 20&deg;C.  Similarly, the tag 'URA3 20' represents an experiment combining the yeast deletion collection with a neutral, background <i>ura3&Delta;</i> mutation, grown at 20&deg;C.  For each QFA pair, the fitness definition (e.g. <i>MDR*MDP</i> or <i>MDR</i>) used, fitness summary (e.g. Mean or Median) used and statistical test used to identify enhancers and suppressors (e.g. Student's t-test or the Wilcoxon test) are indicated in the title of the plot.</p>

<p>Users can interact with plots in several ways, using the keyboard and mouse.  The full set of controls are described below.  Briefly, clicking on points highlights them and prints the relevant gene names (corresponding to the relevant deletion from the yeast deletion collection, for example).  Right-clicking on a point (or pressing the 'w' key) opens the <a href="http://www.yeastgenome.org/">Saccharomyces Genome Database</a> web-page for that gene.  The user can browse through different pairs of QFA experiments, while keeping the same genes highlighted, by pressing the left and right arrow keys.  The user can browse different functionally related groups of genes, by using the up and down arrow keys, highlighting groups of genes taken from an article by <a href="http://dx.doi.org/10.1016/j.molcel.2010.06.002">Benschop et al. (2010), or from the <a href="http://www.geneontology.org/">gene ontology</a> database.</a>.  Users can search for groups of their favourite genes by pressing 'u' and following instructions in the R console to manually add to the pre-loaded list of functional groups.  Finally, users can output plots to publication quality PDF figures after highlighting genes of interest by pressing 'p'.</p>

<h3>Windows mouse</h3>
<ul>
<li><b>Left click:</b> Highlight gene/Rotate text position</li>
<li><b>Right click:</b> Open SGD page for gene (alternatively, press 'w' on keyboard)</li>
<li><b>Middle click:</b> Remove last gene (alternatively, press 'd' on keyboard)</li>
</ul>
<h3>Mac mouse</h3>
<ul>
<li><b>Click:</b> Highlight gene/Rotate text position</li>
</ul>
<h3>Keyboard</h3>
<ul>
<li><b>Left/Right arrow:</b> change plot</li>
<li><b>Up/Down arrow:</b> Change group highlighted</li>
<li><b>u:</b> Add new group of genes to list of groups</li>
<li><b>z:</b> Toggle select tool on/off.  Select genes by drawing a polygon on plot.</li>
<li><b>s:</b> Highlight genes encircled using select tool ('z')</li>
<li><b>c:</b> Clear highlighting from selected genes</li>
<li><b>w:</b> Open SGD web-page for last gene highlighted</li>
<li><b>d:</b> Remove highlighting from last gene highlighted</li>
<li><b>t:</b> Toggle colours (red/green) indicating positive and negative interaction</li>
<li><b>r:</b> Enter zoom mode.  Click on top left and bottom right of area to inspect</li>
<li><b>p:</b> Print current plot as vector graphic to QFAVisualisation.pdf</li>
<li><b>q:</b> Quit tool and print gene names currently selected to console window</li>
</ul>
</article>

</body> 
</html> 
